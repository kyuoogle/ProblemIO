/* 색상 팔레트 정의 */
:root {
  /* 브랜드 컬러 */
  --brand-cyan: #33e0ff;
  --brand-cyan-hover: #66f2ff;
  --brand-cyan-soft: #e0f7ff;
  --brand-gold: #ffc831;
  --brand-gold-dark: #e0a800;

  /* 라이트 모드 기본 색상 */
  --color-bg-page: #f8fafc;
  --color-bg-card: #ffffff;
  --color-text-main: #111827;
  --color-text-muted: #6b7280;
  --color-border: rgba(15, 23, 42, 0.08);

  --color-primary: #00a6cc;        /* 라이트 프라이머리 */
  --color-primary-hover: #33cfff;
  --color-accent: var(--brand-gold);

  /* 기존 명명 유지용 매핑 */
  --color-background: var(--color-bg-page);
  --color-background-soft: var(--color-bg-card);
  --color-background-mute: #e8f0ff;
  --color-heading: var(--color-text-main);
  --color-text: var(--color-text-muted);
  --color-border-hover: rgba(0, 50, 150, 0.2);

  /* 라이트 모드 전용 배경 이미지 설정 */
  --app-bg-image: url("/bg-light.png");
  --app-bg-image-dark: url("/bg-dark.png"); /* 다크 모드 전용 배경 이미지 */
  --app-bg-overlay: rgba(248, 250, 252, 0.78);

  /* 라이트 모드 전용 헤더 배경 이미지 설정 */
  --app-header-bg-image: url("/bg-header-light.png");
  --app-header-bg-overlay: rgba(255, 255, 255, 0.9);

  --section-gap: 160px;
}

[data-theme="dark"] {
  /* 다크 모드 기본 색상 */
  --color-bg-page: #0d1a3a;
  --color-bg-card: #141a33;
  --color-text-main: #e6edff;
  --color-text-muted: #9bb3ff;
  --color-border: rgba(255, 255, 255, 0.1);

  --color-primary: var(--brand-cyan);
  --color-primary-hover: var(--brand-cyan-hover);
  --color-accent: var(--brand-gold);

  --color-background: var(--color-bg-page);
  --color-background-soft: var(--color-bg-card);
  --color-background-mute: #10162b;
  --color-heading: var(--color-text-main);
  --color-text: var(--color-text-muted);
  --color-border-hover: rgba(255, 255, 255, 0.18);

  /* 다크 모드 배경 오버레이 (이미지 대비용) */
  --app-bg-overlay: rgba(13, 26, 58, 0.78);
  --app-bg-image: var(--app-bg-image-dark);

  /* 다크 모드에서는 헤더 이미지를 사용하지 않음 */
  --app-header-bg-image: none;
  --app-header-bg-overlay: rgba(20, 26, 51, 0.78);
}

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  font-weight: normal;
}

body {
  min-height: 100vh;
  color: var(--color-heading);
  background-color: var(--color-background);
  transition:
    color 0.5s,
    background-color 0.5s;
  line-height: 1.6;
  font-family:
    Inter,
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    Roboto,
    Oxygen,
    Ubuntu,
    Cantarell,
    'Fira Sans',
    'Droid Sans',
    'Helvetica Neue',
    sans-serif;
  font-size: 15px;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 라이트 모드 배경 이미지 적용 */
body.has-bg-image {
  background-image:
    linear-gradient(var(--app-bg-overlay), var(--app-bg-overlay)),
    var(--app-bg-image);
  background-attachment: fixed;
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
  color: var(--color-heading);
}

p, span, label, small {
  color: var(--color-text);
}

/* Secondary text utility */
:global(.text-color-secondary) {
  color: var(--color-text) !important;
}

/* PrimeVue buttons to primary teal */
/* PrimeVue buttons to primary teal - MOVED TO MAIN.JS PRESET
.p-button {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: #00131c;
  font-weight: 600;
}

.p-button:enabled:hover {
  background: var(--color-primary-hover);
  border-color: var(--color-primary-hover);
  color: #00131c;
}

.p-button.p-button-outlined,
.p-button.p-button-text {
  background: transparent;
  color: var(--color-heading);
  border-color: var(--color-border);
}

.p-button.p-button-outlined:enabled:hover,
.p-button.p-button-text:enabled:hover {
  color: var(--color-heading);
  border-color: var(--color-border-hover);
}
*/

/* Dark theme: cards/containers/text 강화 */
[data-theme="dark"] .p-card,
[data-theme="dark"] .p-panel,
[data-theme="dark"] .surface-card,
[data-theme="dark"] .surface-0,
[data-theme="dark"] .surface-100,
[data-theme="dark"] .surface-ground,
[data-theme="dark"] .surface-section,
[data-theme="dark"] .surface-overlay,
[data-theme="dark"] .surface-border,
[data-theme="dark"] .p-dialog {
  background: var(--color-background-soft) !important;
  color: var(--color-heading) !important;
  border-color: var(--color-border) !important;
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.35);
}

/* Toast Dark Mode Fix */
[data-theme="dark"] .p-toast .p-toast-message {
  background: var(--color-background-soft) !important;
  color: var(--color-heading) !important;
  border: 1px solid var(--color-border);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}

[data-theme="dark"] .p-toast .p-toast-message .p-toast-message-icon,
[data-theme="dark"] .p-toast .p-toast-message .p-toast-summary,
[data-theme="dark"] .p-toast .p-toast-message .p-toast-detail {
  color: var(--color-heading) !important;
}

/* Severity specific borders for Dark Mode */
[data-theme="dark"] .p-toast .p-toast-message.p-toast-message-success {
  border-left: 6px solid #22c55e;
  background: rgba(34, 197, 94, 0.1) !important; /* Slight green tint */
}

[data-theme="dark"] .p-toast .p-toast-message.p-toast-message-info {
  border-left: 6px solid #3b82f6;
  background: rgba(59, 130, 246, 0.1) !important;
}

[data-theme="dark"] .p-toast .p-toast-message.p-toast-message-warn {
  border-left: 6px solid #f59e0b;
  background: rgba(245, 158, 11, 0.1) !important;
}

[data-theme="dark"] .p-toast .p-toast-message.p-toast-message-error {
  border-left: 6px solid #ef4444;
  background: rgba(239, 68, 68, 0.1) !important;
}

[data-theme="dark"] .p-card .p-card-title,
[data-theme="dark"] .p-card .p-card-subtitle,
[data-theme="dark"] .p-card .p-card-content,
[data-theme="dark"] .p-panel .p-panel-header,
[data-theme="dark"] .p-panel .p-panel-content,
[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4,
[data-theme="dark"] h5,
[data-theme="dark"] h6,
[data-theme="dark"] p,
[data-theme="dark"] span,
[data-theme="dark"] label,
[data-theme="dark"] small {
  color: var(--color-heading) !important;
}

/* Cards / surfaces */
.p-card,
.p-panel,
.p-datatable {
  background: var(--color-background-soft);
  color: var(--color-heading);
  border: 1px solid var(--color-border);
  box-shadow: 0 12px 30px rgba(15, 23, 42, 0.08);
}

.p-card .p-card-title,
.p-card .p-card-subtitle,
.p-card .p-card-content,
.p-panel .p-panel-header,
.p-panel .p-panel-content {
  color: var(--color-heading);
}

/* Inputs */
.p-inputtext {
  background: var(--color-background-soft);
  color: var(--color-heading);
  border-color: var(--color-border);
}

.p-inputtext:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px rgba(0, 166, 204, 0.15);
}

[data-theme="dark"] .p-inputtext,
[data-theme="dark"] textarea,
[data-theme="dark"] input {
  background: var(--color-background-soft) !important;
  color: var(--color-heading) !important;
  border-color: var(--color-border) !important;
}

[data-theme="dark"] .p-inputtext::placeholder,
[data-theme="dark"] textarea::placeholder,
[data-theme="dark"] input::placeholder {
  color: var(--color-text) !important;
}

/* Secondary buttons (필터 등) 가독성 보강 */
.p-button.p-button-secondary {
  background: transparent;
  border-color: var(--color-accent);
  color: var(--color-accent);
  font-weight: 600;
}

.p-button.p-button-secondary:enabled:hover {
  background: rgba(255, 200, 49, 0.1);
  border-color: var(--color-accent);
  color: var(--color-accent);
}

.p-button.p-button-outlined.p-button-secondary,
.p-button.p-button-text.p-button-secondary {
  background: transparent;
  border-color: var(--color-accent);
  color: var(--color-heading);
}

.p-button.p-button-outlined.p-button-secondary:enabled:hover,
.p-button.p-button-text.p-button-secondary:enabled:hover {
  border-color: var(--color-accent);
  color: var(--color-heading);
}

/* 모든 배경 버튼 텍스트는 흰색으로 통일 (secondary 제외) */
.p-button:not(.p-button-text):not(.p-button-outlined):not(.p-button-secondary) {
  color: #ffffff !important;
}

/* Accent for micro interactions (hearts, badges) */
.pi-heart-fill {
  color: var(--color-accent);
}

.p-badge {
  background: var(--color-accent);
  border-color: var(--color-accent);
}
